# 题库系统 - 用户指南：三个入口，三种用法

## 🎯 一句话说明

**题库系统提供三种不同的使用方式，满足不同用户的需求：**

1. **🌐 给管理员用的** → `web/` 目录（Web管理后台）
2. **🤖 给AI助手用的** → `mcp/` 目录（通过聊天管理题目）  
3. **📱 给学生用的** → `wechat/` 目录（微信小程序刷题）

## 📖 用户故事：谁该用哪个入口？

### 故事1：张老师要管理题库
**👨‍🏫 用户**: 张老师（学校教师）
**🎯 需求**: 添加、编辑、分类管理题目
**🔧 该用**: **Web入口** (`web/`)
**💡 原因**: 
- 需要完整的界面来批量管理题目
- 需要分类、标签等高级管理功能
- 在电脑上操作更方便

**使用方式**:
```bash
# 启动Web管理后台
python start.py web
# 然后在浏览器打开: http://localhost:8000
```

### 故事2：李同学要刷题学习
**👨‍🎓 用户**: 李同学（高三学生）
**🎯 需求**: 随时随地用手机刷题
**🔧 该用**: **微信小程序入口** (`wechat/`)
**💡 原因**:
- 学生习惯用微信小程序
- 手机随时随地学习
- 只需要练习功能，不需要管理功能

**使用方式**:
```bash
# 启动微信小程序后端
python start.py wechat
# 微信小程序连接: http://localhost:8002
```

### 故事3：王助教要用AI帮忙
**👨‍💻 用户**: 王助教（技术爱好者）
**🎯 需求**: 用AI助手快速整理题目
**🔧 该用**: **MCP入口** (`mcp/`)
**💡 原因**:
- 可以用自然语言让AI帮忙
- 比如："帮我找所有数学难题"
- 适合技术爱好者，效率更高

**使用方式**:
```bash
# 启动MCP服务器
python start.py mcp
# 然后在Claude/ChatGPT等AI工具中连接
```

## 🏗️ 技术架构：一张图看懂

```
           ┌─────────────────────────────────┐
           │       题库管理系统               │
           │     共享题目数据                 │
           └───────────┬─────────────────────┘
                       │
        ┌──────────────┼──────────────┐
        │              │              │
    ┌───▼───┐    ┌───▼───┐    ┌─────▼────┐
    │  Web  │    │  MCP  │    │  微信    │
    │ 入口  │    │ 入口  │    │  小程序  │
    └───┬───┘    └───┬───┘    └─────┬────┘
        │            │              │
    ┌───▼───┐    ┌───▼───┐    ┌─────▼────┐
    │管理员 │    │ AI助手 │    │  学生    │
    │教师   │    │ Claude │    │  手机    │
    │电脑   │    │ ChatGPT│    │  微信    │
    └───────┘    └───────┘    └──────────┘
```

## 📁 目录结构：快速导航

### 如果你是**管理员/教师** 👨‍🏫
```
关注这个目录 → web/
├── main.py          # Web服务器启动文件
├── api/             # 管理API（增删改查全功能）
│   ├── categories.py # 分类管理
│   ├── questions.py  # 题目管理
│   └── tags.py      # 标签管理
└── static/          # 网页界面
    └── index.html   # 管理后台页面
```

### 如果你是**学生** 👨‍🎓  
```
关注这个目录 → wechat/
├── server.py        # 微信小程序后端
├── api/             # 学生专用API
│   ├── questions.py  # 获取题目（不含答案）
│   └── auth.py      # 微信登录
└── utils/
    └── wechat_auth.py # 微信认证
```

### 如果你是**开发者/AI爱好者** 👨‍💻
```
关注这个目录 → mcp/
└── server.py        # MCP协议服务器
                     # 让AI能通过聊天管理题目
```

### 所有入口共享的**核心代码** ⚙️
```
core/                # 所有入口都用这些代码
├── models.py        # 题目、分类、标签的数据结构
├── services.py      # 核心业务逻辑
└── database/        # 数据库操作
    ├── connection.py # 数据库连接
    └── repositories.py # 数据存取
```

## 🚀 快速开始：根据你的身份选择

### 选项1：我是管理员，要管理题目
```bash
# 1. 启动Web管理后台
python start.py web

# 2. 打开浏览器访问
#   管理界面: http://localhost:8000
#   API文档: http://localhost:8000/docs
```

### 选项2：我是学生，要手机刷题
```bash
# 1. 启动微信小程序后端
python start.py wechat

# 2. 在微信开发者工具中
#   配置服务器地址: http://localhost:8002
```

### 选项3：我是开发者，要集成AI
```bash
# 1. 启动MCP服务器
python start.py mcp

# 2. 在AI开发工具中
#   连接MCP服务器: http://localhost:8001
```

## 🔧 功能对比：一目了然

| 功能 | Web入口 | 微信小程序入口 | MCP入口 |
|------|---------|---------------|---------|
| **添加题目** | ✅ 完整表单 | ❌ 不支持 | ✅ 聊天添加 |
| **编辑题目** | ✅ 可视化编辑 | ❌ 不支持 | ✅ 聊天编辑 |
| **删除题目** | ✅ 一键删除 | ❌ 不支持 | ✅ 聊天删除 |
| **搜索题目** | ✅ 高级搜索 | ✅ 关键词搜索 | ✅ 自然语言搜索 |
| **分类管理** | ✅ 完整管理 | ❌ 不支持 | ✅ 聊天管理 |
| **标签管理** | ✅ 完整管理 | ❌ 不支持 | ✅ 聊天管理 |
| **练习答题** | ✅ 可以练习 | ✅ 主要功能 | ✅ 可以练习 |
| **查看解析** | ✅ 随时查看 | ✅ 答对后查看 | ✅ 聊天查看 |
| **用户认证** | ❌ 不需要 | ✅ 微信登录 | ❌ 不需要 |
| **使用设备** | 💻 电脑 | 📱 手机 | 💻 电脑+AI工具 |

## 💡 常见问题

### Q: 我该用哪个入口？
**A**: 
- 如果你是**老师/管理员** → 用 **Web入口**
- 如果你是**学生** → 用 **微信小程序入口**  
- 如果你是**开发者/AI爱好者** → 用 **MCP入口**

### Q: 三个入口的数据是分开的吗？
**A**: 不是！**所有入口共享同一个数据库**，你在Web添加的题目，学生在微信小程序也能看到。

### Q: 我需要启动所有入口吗？
**A**: 不需要！根据你的需求启动一个就行：
- 只要管理题目 → 启动 `web/`
- 只要手机刷题 → 启动 `wechat/`
- 只要AI集成 → 启动 `mcp/`

### Q: 为什么要有三个入口？一个不够吗？
**A**: 因为不同用户需求不同：
- **管理员**需要完整的管理功能（Web最适合）
- **学生**需要移动便捷（微信最适合）
- **技术爱好者**需要AI集成（MCP最适合）

## 📞 技术支持

### 遇到问题？
1. **Web相关问题** → 查看 `web/` 目录下的代码
2. **微信小程序问题** → 查看 `wechat/` 目录下的代码  
3. **MCP相关问题** → 查看 `mcp/` 目录下的代码
4. **数据库问题** → 查看 `core/database/` 目录下的代码

### 需要帮助？
- 查看详细文档: `docs/` 目录
- 运行测试: `python start.py test`
- 检查状态: `python start.py status`

---

**记住：选择适合你身份的入口，不要被复杂的目录吓到！** 🎯