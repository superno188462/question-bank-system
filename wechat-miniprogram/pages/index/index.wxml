<!-- pages/index/index.wxml -->

<view class="container">
  <!-- æœç´¢æ¡† -->
  <view class="search-bar" bindtap="onSearch">
    <view class="search-input">
      <text class="search-icon">ğŸ”</text>
      <text class="search-text">æœç´¢é¢˜ç›®...</text>
    </view>
  </view>

  <!-- è½®æ’­å›¾ -->
  <swiper class="banner-swiper" indicator-dots autoplay interval="3000" duration="500">
    <block wx:for="{{banners}}" wx:key="id">
      <swiper-item>
        <view class="banner-item">
          <image src="{{item.image}}" mode="aspectFill" class="banner-image" />
          <view class="banner-title">{{item.title}}</view>
        </view>
      </swiper-item>
    </block>
  </swiper>

  <!-- åŠŸèƒ½æ¨¡å— -->
  <view class="features-section">
    <view class="section-title">åŠŸèƒ½æ¨¡å—</view>
    <view class="features-grid">
      <block wx:for="{{features}}" wx:key="id">
        <view class="feature-item" bindtap="navigateToFeature" data-url="{{item.url}}">
          <view class="feature-icon">{{item.icon}}</view>
          <view class="feature-title">{{item.title}}</view>
          <view class="feature-desc">{{item.desc}}</view>
        </view>
      </block>
    </view>
  </view>

  <!-- çƒ­é—¨é¢˜ç›® -->
  <view class="hot-questions-section">
    <view class="section-header">
      <view class="section-title">çƒ­é—¨é¢˜ç›®</view>
      <view class="section-more" bindtap="onSearch">æŸ¥çœ‹æ›´å¤š ></view>
    </view>
    
    <view class="questions-list">
      <block wx:for="{{hotQuestions}}" wx:key="id">
        <view class="question-item" bindtap="viewQuestionDetail" data-id="{{item.id}}">
          <view class="question-content">
            <view class="question-title">{{item.title}}</view>
            <view class="question-meta">
              <text class="meta-item">{{item.category}}</text>
              <text class="meta-item">{{item.difficulty}}</text>
              <text class="meta-item">{{item.view_count}} æµè§ˆ</text>
            </view>
          </view>
          <view class="question-arrow">â€º</view>
        </view>
      </block>
      
      <view wx:if="{{hotQuestions.length === 0 && !loading}}" class="empty-state">
        <text class="empty-icon">ğŸ“š</text>
        <text class="empty-text">æš‚æ— çƒ­é—¨é¢˜ç›®</text>
      </view>
    </view>
  </view>

  <!-- å¿«é€Ÿå¯¹è¯å…¥å£ -->
  <view class="quick-chat-section">
    <view class="chat-card" bindtap="startChat">
      <view class="chat-icon">ğŸ’¬</view>
      <view class="chat-content">
        <view class="chat-title">æ™ºèƒ½é—®ç­”åŠ©æ‰‹</view>
        <view class="chat-desc">æœ‰ä»»ä½•é—®é¢˜éƒ½å¯ä»¥é—®æˆ‘</view>
      </view>
      <view class="chat-arrow">â€º</view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
</view>